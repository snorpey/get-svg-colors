/* 
get-svg-colors-browser v0.0.1
Copyright (c) 2018 Georg Fischer
@license MIT
https://github.com/snorpey/get-svg-colors-browser.git */

!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.getSVGColors=r()}(this,function(){"use strict";var t=/<!--([\s\S]*?)-->/g,n="http://www.w3.org/2000/svg",l=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,i=["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];function o(e,r,t){return t.indexOf(e)===r}function a(e){for(var r=-1,t=e?e.length:0,n=0,l=[];++r<t;){var i=e[r];i&&(l[n++]=i)}return l}function u(e){return e.toLowerCase()}function s(e){return!!e&&("none"!==e&&(-1!==i.indexOf(e.toLowerCase())||e.match(l)))}function d(e){var r=new DOMParser;return-1===e.indexOf("xmlns")&&-1!==e.indexOf("<svg")&&e.replace("<svg",'<svg xmlns="'+n+'"'),r.parseFromString(e,"image/svg+xml")}function g(e,r){return t=r.querySelectorAll(e),Array.prototype.slice.call(t);var t}function c(e,r){return e instanceof SVGElement?Promise.resolve(e):/^\s*(?:<\?xml[^>]*>\s*)?(?:<!doctype svg[^>]*\s*(?:\[?(?:\s*<![^>]*>\s*)*\]?)*[^>]*>\s*)?<svg[^>]*>[^]*<\/svg>\s*$/i.test(e.replace(t,""))?Promise.resolve(d(e)):"string"==typeof e?fetch(e).then(function(e){return e.text()}).then(function(e){return d(e)}):void 0}function f(e,r){return e.replace(/(\s|\n|\R|\r)/g,"").split(/(\{|\}|\;)/).map(function(e){return e.trim()}).map(u).filter(function(e){return e&&e.length}).filter(function(e){return 0===e.indexOf(r)}).map(function(e){return e.split(":").map(function(e){return e.trim()}).filter(function(e){return e!==r})}).reduce(function(e,r){return e.concat(r)},[]).filter(function(e){return-1!==i.indexOf(e)||l.test(e)})}return function(e,r){return c(e).then(function(e){var t=g("[fill]",e).map(function(e){return e.getAttribute("fill")}),n=g("[stroke]",e).map(function(e){return e.getAttribute("stroke")}),l=g("[stop-color]",e).map(function(e){return e.getAttribute("stop-color")});return g("[style]",e).forEach(function(e){t.push(e.style.fill),n.push(e.style.stroke),l.push(e.style.stopColor)}),g("style",e).forEach(function(e){var r=e.textContent;f(r,"fill").forEach(function(e){return t.push(e)}),f(r,"stroke").forEach(function(e){return n.push(e)}),f(r,"stop-color").forEach(function(e){return l.push(e)})}),r&&r.flat?a(t.concat(n).concat(l).filter(s).map(u).filter(o)):{fills:a(t.filter(s).map(u).filter(o)),strokes:a(n.filter(s).map(u).filter(o)),stops:a(l.filter(s).map(u).filter(o))}})}});